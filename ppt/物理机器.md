



# 在物理机器上安装uintr linux





## centos上安装和使能gcc-11

```
yum list installed
yum install gcc-toolset-11
scl enable gcc-toolset-11 bash
```





编译内核

```
cp /boot/configxxx .config
make menuconfig
# select uintr
make  -j 24
sudo make modules_install
sudo make install
reboot
```







## 物理机器编译qemu

```
sudo apt install pkg-config
sudo apt install libglib2.0-dev
sudo apt install libpixman-1-dev
sudo apt install bison flex
```





## 在x86台式机

开始编译出来的内核模块太大，导致initramfs也太大，导致夹在时内存溢出， 需要经过压缩或者去除后才能启动

```
SHW@SHW:/tmp# cd /lib/modules/<new_kernel>
SHW@SHW:/tmp# find . -name *.ko -exec strip --strip-unneeded {} +
```

